var viewSrv=angular.module("viewSrv",[]),viewService=viewSrv.service("viewService",function(){this.getAuWidgetRazorTemplateUrl=function(n){return"/activation/AccountUpdater/RazorTemplate/"+n}}),accountUpdaterSrv=angular.module("accountUpdaterSrv",["MccService"]),accountUpdaterPageService=accountUpdaterSrv.service("auService",["$http","$q","$modal","$filter","accountUpdaterServiceId","Mcc","$state",function(n,t,i,r,u,f){var e=this;this.get=function(i){var r=t.defer(),u={method:"GET",url:i,headers:{__LOGIN_PAGE_KEY:$("[name=__LOGIN_PAGE_KEY]").val()}};return n(u).then(function(n){r.resolve(n.data)}).catch(function(n){r.reject(n)}),r.promise};this.post=function(i,r){var u=t.defer(),f={method:"POST",url:i,data:r,headers:{__LOGIN_PAGE_KEY:$("[name=__LOGIN_PAGE_KEY]").val()}};return n(f).then(function(n){u.resolve(n.data)}).catch(function(n){u.reject(n)}),u.promise};this.postStatus=function(n,t){var i="/activation/widget/api/Au/Merchant/"+n+"/Service/"+u+"/Status";return e.post(i,t)};this.getReport=function(n){var t="/activation/widget/api/Au/Merchant/"+n+"/Service/"+u+"/Reports/Download";return e.get(t)};this.deactivateAU=function(n){var t,r;t=n!="true"?'<div><h3 class="au-header" style="font-size:28px;">Discontinue Account Updater Service<span ng-Click= "dismiss()" style="float:right"><img style="margin-top:-15px;"src="/activation/Areas/AccountUpdater/Client/imgs/merchant/icons/icon-modal-close.png" /><\/span><\/h3><div class="au-content"><p>Your account does not have sufficient permissions to discontinue the Account Updater service. Please contact an Account Owner for assistance.<\/p><center><button id="discontinue-au-yes" class="au-yes-btn btn btn-dark-aqua text-white border-white" ng-Click= "dismiss()">OK<\/button><\/center><\/div><\/div>':'<div><h3 class="au-header" style="font-size:28px;">Discontinue Account Updater Service<span ng-Click= "dismiss()" style="float:right"><img style="margin-top:-15px;"src="/activation/Areas/AccountUpdater/Client/imgs/merchant/icons/icon-modal-close.png" /><\/span><\/h3><div class="au-content"><p><span style="font-weight:700">WARNING:<\/span> By clicking <span style="font-weight:700"> Yes<\/span>, you are requesting to discontinue the Account Updater service. Payment profiles will no longer be updated automatically for this account but you will still have access to the update reports with Reports.<\/p><p>Do you wish to continue?<\/p><center><button id="discontinue-au-yes" class="au-yes-btn btn btn-dark-aqua text-white border-white" ng-Click= "deactivateService()">Yes<\/button>&nbsp;&nbsp;&nbsp;<button id="discontinue-au-no" class="au-no-btn btn" ng-Click= "dismiss()">NO<\/button><\/center><\/div><\/div>';r=i.open({animation:!1,backdrop:"static",template:t,controller:["$scope","$modalInstance","$state",function(n,t,i){n.deactivateService=function(){e.postStatus(window.merchantId,{NewServiceStatus:{ServiceName:"ACCOUNT_UPDATER",Status:"DISABLED"},StatusReason:"MERCHANT_INITIATED_SELF_PROVISIONED"}).then(function(r){r.ServiceStatus!=undefined&&r.ServiceStatus.Status==0?(n.response="Success",t.close(n.response),i.go(i.current,{},{reload:!0})):(t.close("Failed"),i.go("Error"))},function(){t.close("Failed");i.go("Error")})};n.dismiss=function(){t.dismiss("No")}}],size:"md",windowClass:"au-discontinue-popup"})};this.getReportsList=function(){var n=new Date((new Date).getTime()+(new Date).getTimezoneOffset()*6e4),r,i,t,u;for(n.setDate(1),r=["January","February","March","April","May","June","July","August","September","October","November","December"],i=[],t=0;t<6;t++)n.setMonth(n.getMonth()-1),u=r[n.getMonth()]+" "+n.getFullYear(),i[t]={Id:t+1,Name:u,Month:n.getMonth()+1,Year:n.getFullYear()};return i};this.nonOwnerAlert=function(){var n=i.open({animation:!1,backdrop:"static",template:'<h3 class="au-header">Thank you for your interest in the Account Updater service.<span ng-Click= "dismiss()" style="float:right"><img style="margin-top:-15px;"src="/activation/Areas/AccountUpdater/Client/imgs/merchant/icons/icon-modal-close.png" /><\/span><\/h3><div class="au-content"><p>Please contact an Account Owner to sign up for Account Updater.<\/p><center><button id="non-owner-alert-continue" class="au-yes-btn btn btn-dark-aqua text-white border-white" ng-Click= "dismiss()">Continue<\/button><\/center><\/div>',controller:["$scope","$modalInstance",function(n,t){n.dismiss=function(){t.dismiss("Yes")}}],size:"lg",windowClass:"au-alert-popup"})};this.nonUSEntityAlert=function(){var n=i.open({animation:!1,backdrop:"static",template:'<h3 class="au-header">Thank you for your interest in the Account Updater service.<span ng-Click= "dismiss()" style="float:right"><img style="margin-top:-15px;"src="/activation/Areas/AccountUpdater/Client/imgs/merchant/icons/icon-modal-close.png" /><\/span><\/h3><div class="au-content"><p>The Account Updater feature is currently only available in the U.S.<\/p><center><button id="non-owner-alert-continue" class="au-yes-btn btn btn-dark-aqua text-white border-white" ng-Click= "dismiss()">Continue<\/button><\/center><\/div>',controller:["$scope","$modalInstance",function(n,t){n.dismiss=function(){t.dismiss("Yes")}}],size:"lg",windowClass:"au-alert-popup"})};this.mccLookUp=function(){var n=i.open({animation:!1,backdrop:"static",template:'<div class="panelLayoutMCC"><div class="panelClose"><span class="panelCloseX" ng-click="dismiss()"> X <\/span><\/div><div class="row panelHeader"><div class="col-sm-12"><h4 class="mccHeaderText">Industry / Merchant Category Code<\/h4><\/div><\/div><div class="row panelBody">   <mcc edit="true" mcccode=mcccode><\/mcc><\/div><div class="row mccButtons">   <div class="col-sm-12 display-box">      <button id="btnCancelMcc" class="btn pull-right" ng-click="dismiss()">Cancel<\/button>     <button id="btnUpdateMcc" class="btn btn-primary pull-right" ng-click="select(mcccode)" ng-disabled="errorFields.length > 0">Select MCC<\/button><\/div><\/div><\/div>',controller:["$scope","$modalInstance",function(n,t){n.dismiss=function(){t.dismiss("Yes")};n.select=function(){if(f.IsValidMcc(n.mcccode)){var i={mccCode:n.mcccode};t.close(i)}else n.errors="Please select a valid MCC code to continue"}}],size:"md",windowClass:"au-mcc-lookup"});return n.result};this.getReports=function(n,t,i){return e.get("/activation/widget/api/Au/Merchant/"+n+"/Service/"+u+"/Reports?Month="+t+"&Year="+i+"&Limit=100")};this.unsupportedMcc=function(){var n=i.open({animation:!1,backdrop:"static",template:'<div><h3 class="au-header">Sorry, but Account Updater is not configured for your MCC.<span ng-Click= "dismiss()" style="float:right"><img style="margin-top:-15px;"src="/activation/Areas/AccountUpdater/Client/imgs/merchant/icons/icon-modal-close.png" /><\/span><\/h3><div class="au-content"><p>Account Updater is not available for the Merchant Category Code (MCC) associated with your Authorize.Net account.<\/p><center><button id="non-owner-alert-continue" class="au-yes-btn btn btn-dark-aqua text-white border-white" ng-Click= "dismiss()">OK<\/button><\/center><\/div><div>',controller:["$scope","$modalInstance",function(n,t){n.dismiss=function(){t.dismiss("Yes")}}],size:"lg",windowClass:"au-alert-popup"})}}]),accountUpdaterPageProvider=accountUpdaterSrv.provider("auProvider",function(){this.$get=["$q","$http","auService","$state","Mcc",function(n,t,i,r,u){var f=this;return{getStatus:function(){var n="/activation/widget/api/Au/merchant/"+window.merchantId+"/service/auStatus";return i.get(n)},getTermsAndConditions:function(n,t,r){var u="bundleids="+r[0]+"&bundleids="+r[1]+"&bundleids="+r[2],f="/activation/widget/api/Au/Merchant/"+window.merchantId+"/Service/"+t+"/Agreement?"+u;return i.get(f)},enrollAU:function(n,t){var u={NewServiceStatus:{ServiceName:"ACCOUNT_UPDATER",Status:"ENABLED"},StatusReason:"MERCHANT_INITIATED_SELF_PROVISIONED",AgreementID:11,BundleType:n,MCC:t},f=window.merchantId;i.postStatus(f,u).then(function(n){n.errorlist!=undefined&&n.errorlist.length!=0||n.ServiceStatus==null?r.go("Error"):r.go("Main")},function(){r.go("Error")})},mccLookUp:function(){return i.mccLookUp()},checkMCC:function(n){return $.inArray(n,["5962","5966","5967","7995"])>-1?(i.unsupportedMcc(),r.go("Main"),!1):u.IsValidMcc(n)}}}]}),accountUpdaterPage=angular.module("accountUpdaterPage",["ui.router","ui.bootstrap","accountUpdaterSrv","auMain","auReportsPage","viewSrv","mcc","MccService"]),accountUpdaterServiceId=accountUpdaterPage.constant("accountUpdaterServiceId","25"),CIMServiceId=accountUpdaterPage.constant("CIMServiceId","17"),ARBServiceId=accountUpdaterPage.constant("ARBServiceId","7"),accountUpdater=accountUpdaterPage.directive("vsAccountUpdater",["viewService",function(n){return{restrict:"E",scope:{isaustatuschangeallowed:"@?",skipagreement:"@?"},controller:["$scope",function(){}],controllerAs:"accountUpdater",templateUrl:function(t){return t.templateurl?t.templateurl:n.getAuWidgetRazorTemplateUrl("AccountUpdaterPage")}}}]),auEnrolled,auPending,auEnroll,auBundleEnrollment;accountUpdaterPage.factory("spinnerInterceptor",["$q","$rootScope",function(n){return{request:function(t){return document.getElementById("spinner")!=undefined&&document.getElementById("showoverlay")!=undefined&&(document.getElementById("spinner").style.display="block",document.getElementById("showoverlay").style.display="block",document.getElementById("showoverlay").setAttribute("css","z-index:1500")),t||n.when(t)},requestError:function(t){return document.getElementById("spinner")!=undefined&&document.getElementById("showoverlay")!=undefined&&(document.getElementById("spinner").style.display="block",document.getElementById("showoverlay").style.display="none"),n.reject(t)},response:function(t){return document.getElementById("spinner")!=undefined&&document.getElementById("showoverlay")!=undefined&&(document.getElementById("spinner").style.display="none",document.getElementById("showoverlay").style.display="none"),t||n.when(t)},responseError:function(t){return document.getElementById("spinner")!=undefined&&document.getElementById("showoverlay")!=undefined&&(document.getElementById("spinner").style.display="none",document.getElementById("showoverlay").style.display="none"),n.reject(t)}}}]);accountUpdaterPage.config(["$qProvider",function(n){n.errorOnUnhandledRejections(!1)}]);accountUpdaterPage.config(["$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider",function(n,t,i,r){r.hashPrefix("");t.otherwise("/Main");n.state("Main",{url:"/Main",templateUrl:"../../../../activation/Areas/AccountUpdater/Client/AUWidgets/AuMainPage/AuMainPage.html",controller:["$scope","auProvider","$stateParams","accountUpdaterServiceId","$state","CIMServiceId","ARBServiceId","$filter",function(n,t,i,r,u,f,e,o){t.getStatus(r).then(function(i){if(i.errorlist!=undefined&&i.errorlist.length==0)if(n.hideSignUp=!1,n.isaccountowner=i.AUStatus.isAccountOwner,n.contractgeolocation=i.AUStatus.contractGeoLocation||"",n.isaustatuschangeallowed=n.$parent.isaustatuschangeallowed=="True"?1:0,n.skipagreement=n.$parent.skipagreement=="True"?1:0,n.getbillinginfo=!i.AUStatus.hasBillingInfo,i.AUStatus.AUServiceStatus.Status==1){n.status="Enrolled";var s=Date.parse(i.AUStatus.ActiveSince);n.createddate=o("date")(s,"MMMM yyyy");s=i.AUStatus.LastUpdatedDate!=null?Date.parse(i.AUStatus.LastUpdatedDate):undefined;n.lastupdateddate=s===undefined||s!=undefined&&new Date(s).getFullYear()<=1?"N/A":o("date")(s,"MMMM yyyy")}else i.AUStatus.isAllowed!=!0?(n.hideSignUp=!0,n.showfee="no"):(i.AUStatus.AUServiceStatus.Status==0?(i.CIMServiceStatus.Status==1||i.ARBServiceStatus.Status==1?n.status="Enroll_AU":(n.status="Enroll_Bundle",i.CIMResellerServiceStatus.Status!==2?(n.hidebundle="CIM",i.ARBResellerServiceStatus.Status!==2&&(n.hideSignUp=!0,n.showfee="no")):n.hidebundle=i.ARBResellerServiceStatus.Status!==2?"ARB":""),t.getTermsAndConditions(window.merchantId,r,[e,f,r]).then(function(t){n.pricingdata=t;for(var i=0;i<t.Fees.length;i++)t.Fees[i].FeeId==3&&(n.auprice=t.Fees[i].ServiceSellRate.toFixed(2),n.getbillinginfo=!t.AUStatus.hasBillingInfo&&t.Fees[i].ServiceSellRate>0)},function(){u.go("Error")}),n.mccCode=i.AUStatus.MerchantAU!=null?i.AUStatus.MerchantAU.MCC:0):n.status="Pending",n.showfee=n.status==="Enrolled"||n.status==="Pending"?"no":"yes");else u.go("Error")},function(){u.go("Error")})}]}).state("TermsAndConditions",{url:"/TermsAndConditions",params:{bundleType:undefined,pricingData:undefined,mccCode:undefined},templateUrl:"../../../../activation/Areas/AccountUpdater/Client/AUWidgets/AuTermsAndConditionsPage/AuTermsAndConditionsPage.html",controller:["$scope","auProvider","$stateParams","accountUpdaterServiceId",function(n,t,i){n.bundleType=i.bundleType;n.pricingData=JSON.parse(i.pricingData);i.mccCode!=0?n.mccCode=i.mccCode:$("#mccInput").attr("placeholder","Industry/Mcc");n.showLookUp=i.mccCode==0;(n.bundleType===undefined||n.pricingData==undefined)&&$window.history.back();n.link="/interfaces/merchant/cobrand/themes/common/agreement/agreement-ValueAddedService.htm";n.enroll=function(){return t.checkMCC(n.mccCode)?t.enrollAU(n.bundleType,n.mccCode):(n.errors="Please select a valid MCC Code.",0)};n.lookUp=function(){t.mccLookUp().then(function(t){n.mccCode=t.mccCode})}}]}).state("Error",{url:"/Error",templateUrl:"/ui/error.htm",controller:["$scope",function(){window.scrollTo(0,0)}]});i.interceptors.push("spinnerInterceptor")}]);var auStatus=angular.module("auStatus",["auEnrolled","auDeactivated","auPending"]),auStatusDirective=auStatus.directive("vsAuStatus",["auService",function(){return{replace:!0,restrict:"E",scope:{status:"@?",pricingdata:"@?",createddate:"@?",lastupdateddate:"@?",isaccountowner:"@?",contractgeolocation:"@?",mcccode:"@?",isaustatuschangeallowed:"@?",skipagreement:"@?",hidebundle:"@?",getbillinginfo:"@?"},controller:["$scope",function(){}],template:function(n){return n.templateurl?n.templateurl:"<div>    <div ng-show=\"status == 'Enrolled'\">         <vs-au-enrolled createddate={{createddate}}                        lastupdateddate={{lastupdateddate}}                        isaccountowner={{isaccountowner}}                        isaustatuschangeallowed={{isaustatuschangeallowed}}>        <\/vs-au-enrolled>    <\/div>    <div ng-show=\"status == 'Pending'\">        <vs-au-pending>        <\/vs-au-pending>    <\/div>    <div ng-show=\"status != 'Enrolled' && status != 'Pending' && skipagreement == 0\">        <vs-au-deactivated status={{status}}                            pricingdata={{pricingdata}}                            isaccountowner={{isaccountowner}}                            contractgeolocation={{contractgeolocation}}                           mcccode={{mcccode}}                           hidebundle={{hidebundle}}                           getbillinginfo={{getbillinginfo}}>        <\/vs-au-deactivated>    <\/div><\/div>"}}}]),auDeactivated=angular.module("auDeactivated",["auEnrollment","auBundleEnrollment"]);auDeactivated.directive("vsAuDeactivated",[function(){return{restrict:"E",replace:!0,scope:{status:"@?",pricingdata:"@?",isaccountowner:"@?",contractgeolocation:"@?",mcccode:"@?",hidebundle:"@?",getbillinginfo:"@?"},controller:["$scope",function(){}],template:function(n){return n.templateurl?n.templateurl:"<div>    <div ng-show=\"status=='Enroll_AU'\">        <vs-au-enroll pricingdata={{pricingdata}}                       isaccountowner={{isaccountowner}}                       contractgeolocation={{contractgeolocation}}                      mcccode={{mcccode}}                      getbillinginfo={{getbillinginfo}}><\/vs-au-enroll>    <\/div>    <div ng-show=\"status=='Enroll_Bundle'\">        <vs-au-bundle-enroll pricingdata={{pricingdata}}                              isaccountowner={{isaccountowner}}                              contractgeolocation={{contractgeolocation}}                             mcccode={{mcccode}}                             hidebundle={{hidebundle}}><\/vs-au-bundle-enroll>    <\/div><\/div>"}}}]);auEnrolled=angular.module("auEnrolled",[]);auEnrolled.directive("vsAuEnrolled",["auService",function(n){return{restrict:"E",replace:!0,scope:{templateurl:"@?",createddate:"@?",lastupdateddate:"@?",isaccountowner:"@?",isaustatuschangeallowed:"@?"},controller:["$scope",function(t){t.deactivateAU=n.deactivateAU}],template:function(n){return n.templateurl?n.templateurl:'<div class="container" style="margin:35px 73px;">    <div class="row">        <!--[if IE]>        <style>            .au-info-label{                font-size: 12.5px;            }        <\/style>        <![endif]-->        <div class="col-md-2 au-info-label">            Service Active Since:        <\/div>        <div class="col-md-2">            <span class="au-info-field">{{createddate}}<\/span>        <\/div>    <\/div>    <div class="row">        <div class="col-md-2 au-info-label">            Last Update:        <\/div>        <div class="col-md-2">            <span class="au-info-field">{{lastupdateddate}}<\/span>        <\/div>        <div class="col-md-2">            <a href="../AccountUpdater/AccountUpdaterReport.aspx" class="au-link">View Latest Updates<\/a>        <\/div>    <\/div>    <hr class="au-divider" />    &nbsp;<span ng-show = "isaustatuschangeallowed == 0" ng-click="deactivateAU(isaccountowner)"> <a class="au-link" href>Discontinue Account Updater Service<\/a><\/span><\/div>'}}}]);auPending=angular.module("auPending",[]);auPending.directive("vsAuPending",[function(){return{restrict:"E",replace:!0,scope:{},controller:["$scope",function(){}],template:function(n){return n.templateurl?n.templateurl:'<div>    <div class="row au-pending">        Your registration request is being processed.    <\/div><\/div>  '}}}]);auEnroll=angular.module("auEnrollment",["auTermsAndConditions"]);auEnroll.directive("vsAuEnroll",["$state","auService",function(n,t){return{restrict:"E",replace:!0,scope:{pricingdata:"@?",isaccountowner:"@?",contractgeolocation:"@?",mcccode:"@?",getbillinginfo:"@?"},controller:["$scope",function(i){i.enrollAU=function(){i.isaccountowner=="false"?t.nonOwnerAlert():i.contractgeolocation!="1"?t.nonUSEntityAlert(i.contractgeolocation):n.go("TermsAndConditions",{bundleType:"AU",pricingData:i.pricingdata,mccCode:i.mcccode})}}],template:function(n){return n.templateurl?n.templateurl:'<div><div ng-hide="getbillinginfo == \'true\'" class="row" style="margin: 0 73px;">    <button id ="sign-up-au"class="btn btn-dark-aqua border-white text-white au-signup-now"            ng-click ="enrollAU()">        SIGN UP NOW    <\/button><\/div><div ng-show="getbillinginfo == \'true\'" class="row" style="margin: 0 0 73px 73px;">    <b>To sign up for this service update the <a href="../Settings/BillingInfo.aspx?Service=AccountUpdater" class="au-link">Billing Information<\/a> on your account <a href="../Settings/BillingInfo.aspx?Service=AccountUpdater" class="au-link">here.<\/a><\/b><\/div><\/div>'}}}]);auBundleEnrollment=angular.module("auBundleEnrollment",["auTermsAndConditions"]);auBundleEnrollment.directive("vsAuBundleEnroll",["$state",function(n){return{restrict:"E",replace:!0,scope:{pricingdata:"@?",isaccountowner:"@?",contractgeolocation:"@?",mcccode:"@?",hidebundle:"@?"},controller:["$scope","auService",function(t,i){t.enrollBundle=function(r){t.isaccountowner==="false"?i.nonOwnerAlert():t.contractgeolocation!=="1"?i.nonUSEntityAlert(t.contractgeolocation):(r=="AU_CIM"&&n.go("TermsAndConditions",{bundleType:r,pricingData:t.pricingdata,mccCode:t.mcccode}),r=="AU_ARB"&&n.go("TermsAndConditions",{bundleType:r,pricingData:t.pricingdata,mccCode:t.mcccode}))}}],template:function(n){return n.templateurl?n.templateurl:'<div class="row" style="margin: 35px 73px;">    <!--[if IE]>        <style>    .bundle-enroll .left-col{        font-size: 11.3px;    }        <\/style>    <![endif]-->    <div class="table table-striped border-white">        <div style="background-color: #524f4b !important; height:44px;" class="row bundle-enroll">            <div class="col-md-6">                &nbsp;            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;" ng-hide="hidebundle==\'CIM\'">                <center style="padding-top:15px;">                    <span style="font-family: ScalaSansWeb-Bold, Arial, sans-serif; color:#FFFFFF; font-weight:bold; font-size:15px;">                        CIM                    <\/span>                <\/center>            <\/div>            <div class="col-md-3" style="border-left: 2px solid white; height:44px;" ng-hide="hidebundle==\'ARB\'">                <center style="padding-top:15px;">                    <span style="font-family: ScalaSansWeb-Bold, Arial, sans-serif;color:#FFFFFF;  font-weight:bold; font-size:15px;">                        ARB                    <\/span>                <\/center>            <\/div>        <\/div>        <div class="row bundle-enroll" style=" height: 44px;" ng-hide="hidebundle==\'CIM\'">            <div class="col-md-6 left-col">                Flexible recurring payments            <\/div>            <div class="col-md-3" style="border-left: 2px solid white; height:44px;">                <center style="padding-top:15px;">                    <img src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/icon-circle-checkmark.png">                <\/center>            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;" ng-hide="hidebundle==\'ARB\'">                &nbsp;            <\/div>        <\/div>        <div class="row bundle-enroll" style="background-color:#E6E6E6; height:44px;" ng-hide="hidebundle==\'CIM\'">            <div class="col-md-6 left-col">                Dynamic billing dates            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;">                <center style="padding-top:15px;">                    <img src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/icon-circle-checkmark.png">                <\/center>            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;" ng-hide="hidebundle==\'ARB\'">                &nbsp;            <\/div>        <\/div>        <div class="row bundle-enroll" style="height: 44px;" ng-hide="hidebundle==\'CIM\'">            <div class="col-md-6 left-col">                Dynamic payment amounts (utility bills, pay-as-you-go payments, etc.)            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;">                <center style="padding-top:15px;">                    <img src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/icon-circle-checkmark.png">                <\/center>            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;" ng-hide="hidebundle==\'ARB\'">                &nbsp;            <\/div>        <\/div>        <div class="row bundle-enroll" style="background-color: #E6E6E6; height:44px;" ng-hide="hidebundle==\'ARB\'">            <div class="col-md-6 left-col">                Structured recurring payments            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;" ng-hide="hidebundle==\'CIM\'">                &nbsp;            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;">                <center style="padding-top:15px;">                    <img src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/icon-circle-checkmark.png">                <\/center>            <\/div>        <\/div>        <div class="row bundle-enroll" style="height: 44px;" ng-hide="hidebundle==\'ARB\'">            <div class="col-md-6 left-col">                Fixed billing dates            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;" ng-hide="hidebundle==\'CIM\'">                &nbsp;            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;">                <center style="padding-top:15px;">                    <img src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/icon-circle-checkmark.png">                <\/center>            <\/div>        <\/div>        <div class="row bundle-enroll" style="background-color: #E6E6E6; height: 44px;" ng-hide="hidebundle==\'ARB\'">            <div class="col-md-6 left-col">                Fixed payment amounts (membership fees, installment payments, etc.)            <\/div>            <div class="col-md-3" style="border-left: 2px solid white;height:44px;" ng-hide="hidebundle==\'CIM\'">                &nbsp;            <\/div>            <div class="col-md-3" style="border-left: 2px solid white; height:44px;">                <center style="padding-top:15px;">                    <img src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/icon-circle-checkmark.png">                <\/center>            <\/div>        <\/div>        <div class="row bundle-enroll" style="margin-top: 45px;">            <div class="col-md-6">                &nbsp;            <\/div>            <div class="col-md-3" ng-hide="hidebundle==\'CIM\'">                <button id="sign-up-cim-au" class="btn-dark-aqua btn border-white text-white" style="white-space:normal;                                        padding:15px 45px;                                        font-family: ScalaSansWeb-Bold, Arial, sans-serif;                                        font-size: 15px;                                        height:71px;                                        width: 100%;"                        ng-click="enrollBundle(\'AU_CIM\')">                    <span class="word-wrap-break">SIGN UP FOR CIM AND AU<\/span>                <\/button>            <\/div>            <div class="col-md-3" ng-hide="hidebundle==\'ARB\'">                <button id="sign-up-arb-au" class="btn btn-dark-aqua border-white text-white" style="white-space:normal;                                        padding:15px 45px;                                        font-family: ScalaSansWeb-Bold, Arial, sans-serif;                                        font-size: 15px;                                        height:71px;                                        width: 100%"                        ng-click="enrollBundle(\'AU_ARB\')">                    <span class="word-wrap-break">SIGN UP FOR ARB AND AU<\/span>                <\/button>            <\/div>        <\/div>    <\/div><\/div>'}}}]);var main=angular.module("auMain",["auStatus","auEnrollment","auReportsSearch","auInformation","auBundleEnrollment"]),auMain=main.directive("vsAuMain",["auService",function(){return{replace:!0,restrict:"E",scope:{status:"@?",showfee:"@?",auprice:"@?",pricingdata:"@?",createddate:"@?",lastupdateddate:"@?",isaccountowner:"@?",contractgeolocation:"@?",mcccode:"@?",isaustatuschangeallowed:"@?",skipagreement:"@?",hidesignup:"@?",hidebundle:"@?",getbillinginfo:"@?"},controller:["$scope",function(){}],template:function(n){return n.templateurl?n.templateurl:'<div>    <vs-au-information showfee={{showfee}}                      skipagreement={{skipagreement}}                       auprice={{auprice}}><\/vs-au-information>    <div id="Status" ng-hide="{{hidesignup}}">        <vs-au-status status={{status}}                      pricingdata={{pricingdata}}                      createddate={{createddate}}                      lastupdateddate={{lastupdateddate}}                      isaccountowner={{isaccountowner}}                      contractgeolocation={{contractgeolocation}}                      mcccode={{mcccode}}                      isaustatuschangeallowed={{isaustatuschangeallowed}}                      skipagreement={{skipagreement}}                      hidebundle={{hidebundle}}                      getbillinginfo={{getbillinginfo}}><\/vs-au-status>    <\/div><\/div>'}}}]),mainPage=angular.module("auMainPage",["auMain"]),auMainPage=mainPage.directive("vsAuMainPage",[function(){return{replace:!0,restrict:"E",scope:{},controller:["$scope",function(){}],template:function(n){return n.templateurl?n.templateurl:"../../../../activation/Areas/AccountUpdater/Client/AUWidgets/AuMainPage/AuMainPage.html"}}}]),terms_and_conditions=angular.module("auTermsAndConditions",["auPricing"]),termsAndConditionsModule=terms_and_conditions.directive("vsAuTermsAndConditions",["$state","auService",function(){return{replace:!0,restrict:"E",scope:{bundletype:"@?",pricingdata:"@?",mcccode:"=?"},controller:["$scope",function(){}],template:function(n){return n.templateurl?n.templateurl:"../../../../activation/Areas/AccountUpdater/Client/AUWidgets/AuTermsAndConditionsPage/AuTermsAndConditionsPage.html"}}}]),reportsSearch=angular.module("auReportsSearch",["auReports"]),auReportsSearch=reportsSearch.directive("vsAuReportsSearch",[function(){return{replace:!0,restrict:"E",controller:["$scope",function(){}],template:function(n){return n.templateurl?n.templateurl:'<div>    <div style="padding-bottom:10px;">        This report details all the payment profile updates made for a specific time period.    <\/div>    <div class="col-md-12 subheader">        Report Criteria <br />    <\/div>    <div class="content-reports" style="padding-top:5px;">        To view details of the payment profile updates made by the service select the month you want to view. Click "Run Report"        <div class="text-center">            <div style="margin:10px 0;">                Month:                <select id = "reportMonth" ng-options="date as date.Name for date in reportsList track by date.Id"                        ng-model="selectedMonth"><\/select>            <\/div>            <div style="margin:10px 0;">                <button id = "reportButton" ng-click="runReport(selectedMonth.Month, selectedMonth.Year, selectedMonth.Name)">Run Report<\/button>            <\/div>        <\/div>    <\/div><\/div>'}}}]),reports=angular.module("auReports",["ui.grid","ui.bootstrap","auReportsSummary","auReportsDetailed"]),auReports=reports.directive("vsAuReports",["auService","$modal",function(n,t){return{replace:!0,restrict:"E",scope:{year:"@?",month:"@?",report:"=?",showbreadcrumbs:"=?"},controller:["$scope","auService","$state",function(n,i){var r="/activation/widget/api/Au/merchant/"+window.merchantId+"/service/auStatus";i.get(r).then(function(n){if(n.AUStatus.MerchantAU==null)var i=t.open({animation:!1,backdrop:"static",template:'<h3 class="au-header">Sorry, Account Updater Service is not set up for you yet.<span ng-Click= "dismiss()" style="float:right"><img style="margin-top:-15px;"src="/activation/Areas/AccountUpdater/Client/imgs/merchant/icons/icon-modal-close.png" /><\/span><\/h3><div class="au-content"><p style="margin: 0 0 25px 0;">You must set up Account Updater Service in order to see reports. <\/p><center><button id="non-owner-alert-continue" class="au-yes-btn btn btn-dark-aqua text-white border-white" ng-Click= "dismiss()">Dismiss<\/button><\/center><\/div>',controller:["$scope","$modalInstance",function(n,t){n.dismiss=function(){window.location="/UI/themes/anet/Home.aspx";t.dismiss("Yes")}}],size:"lg",windowClass:"au-alert-popup"})},function(){window.location="/UI/themes/anet/AccountUpdater/AccountUpdaterPage.aspx#/Error"});n.noreports=!0;n.showerror=!1;n.runReport=function(t,r,u){n.showerror=!1;n.month=t;n.year=r;n.selectedMonth=u;i.getReports(window.merchantId,t,r).then(function(t){var i=JSON.parse(JSON.stringify(t)),r,f,e;if(i.AuReport==null||i.AuReport.DetailedReport==null||i.AuReport.SummaryReport==null){if(i.errorlist!=undefined&&i.errorlist.length!=0)for(i.errorlist[0]!=undefined&&i.errorlist[0].number==404?n.noreports=!0:(n.noreports=!1,window.location="/UI/themes/anet/AccountUpdater/AccountUpdaterPage.aspx#/Error"),n.showerror=!0,r=0;r<12;r++)if(n.reportsList[r].Name==u){n.selectedMonth=n.reportsList[r];break}else n.selectedMonth=n.reportsList[0]}else n.noreports=!1,document.getElementsByClassName("barVert")[0]&&document.getElementsByClassName("barVert")[0].setAttribute("style","display:none"),f=document.getElementById("breadcrumb1"),e=document.getElementById("breadcrumb2"),f&&e&&(f.setAttribute("style","display: block;"),e.setAttribute("style","display: block; background:white;")),n.detailedreport=i.AuReport.DetailedReport,n.summaryreport=i.AuReport.SummaryReport},function(){n.noreports=!1;window.location="/UI/themes/anet/AccountUpdater/AccountUpdaterPage.aspx#/Error"})};n.reportsList=i.getReportsList();n.selectedMonth=n.reportsList[0]}],template:function(n){return n.templateurl?n.templateurl:'<div>    <vs-au-reports-search ng-show="noreports"><\/vs-au-reports-search>    <div style="font-weight:bold" ng-show="showerror">        No records found.     <\/div><div class="col-md-12">    <div id="spinner" class="col-md-12 loaderDiv">        <div class="loaderDivImg">            <img class="loaderWrap" src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/White_background.png">            <img src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/loading.gif" />        <\/div>    <\/div><\/div>    <vs-au-reports-summary ng-if="noreports==false && !!summaryreport"                            selectedmonth={{selectedMonth}}                           summaryreport={{summaryreport}}><\/vs-au-reports-summary>    <vs-au-reports-detailed ng-if="noreports==false && !!detailedreport"                               month={{month}}                               year={{year}}                               detailedreport={{detailedreport}}><\/vs-au-reports-detailed><div class="ngdialog-overlay" id="showoverlay"><\/div><\/div>'}}}]),reportsSummary=angular.module("auReportsSummary",["auReports"]),auReportsSummary=reportsSummary.directive("vsAuReportsSummary",[function(){return{replace:!0,restrict:"E",scope:{selectedmonth:"@?",summaryreport:"@?"},controller:["$scope",function(n){var t;n.summaryreport=JSON.parse(n.summaryreport);n.summaryReport={NAN:0,NED:0,ACL:0,CCH:0,total:0};var i=0,r=0,u=0,f=0;for(t=0;t<n.summaryreport.length&&n.summaryreport[t]!=null;t++)n.summaryreport[t].auReasonCodeField=="NAN"?i=n.summaryreport[t].profileCountField:n.summaryreport[t].auReasonCodeField=="NED"?u=n.summaryreport[t].profileCountField:n.summaryreport[t].auReasonCodeField=="ACL"?r+=n.summaryreport[t].profileCountField:n.summaryreport[t].auReasonCodeField=="CCH"&&(f=n.summaryreport[t].profileCountField);n.numberWithCommas=function(n){return n==undefined?"":n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};n.summaryReport={NAN:n.numberWithCommas(i),NED:n.numberWithCommas(u),ACL:n.numberWithCommas(r),CCH:n.numberWithCommas(f),total:n.numberWithCommas(i+u+r+f)}}],template:function(n){return n.templateurl?n.templateurl:'<div>    <div>        <div style="line-height: 3;">            All payment profile updates for the month of <span style="font-weight: bold;">{{selectedmonth}}<\/span>.        <\/div>    <\/div>    <div class="col-md-12 subheader">       Account Updater Summary Report<br />    <\/div>    <table class="au-summary-report" frame="void" border="1" rules="all">        <tr class="report-header">            <th scope="col">                New Account Number - NAN            <\/th>            <th scope="col">                New Expiry Date - NED            <\/th>            <th scope="col">                Account Closed - ACL            <\/th>            <th scope="col">                Contact Cardholder - CCH            <\/th>            <th scope="col">                Total Updates            <\/th>        <\/tr>        <tr class="report-content">            <td scope="col">                {{summaryReport.NAN}}            <\/td>            <td scope="col">                {{summaryReport.NED}}            <\/td>            <td scope="col">                {{summaryReport.ACL}}            <\/td>            <td scope="col">                {{summaryReport.CCH}}            <\/td>            <td scope="col">                {{summaryReport.total}}            <\/td>        <\/tr>        <tr><\/tr>    <\/table>   A maximum of 100 items can be viewed in the Merchant Interface. To view more than 100, click <span style="font-weight:bolder;">Download to File.<\/span> <\/div>'}}}]),reportsDetailed=angular.module("auReportsDetailed",["auReports","ui.grid.pagination"]),auReportsDetailed=reportsDetailed.directive("vsAuReportsDetailed",["accountUpdaterServiceId",function(n){return{replace:!0,restrict:"E",scope:{month:"@?",year:"@?",detailedreport:"@?"},controller:["$scope",function(t){t.report=JSON.parse(t.detailedreport);t.fileFormat="tab";t.totalResults=t.report.length;angular.forEach(t.report,function(n){n!=null&&(n.getCardField=function(){return this.creditCardField===undefined?this.oldCreditCardField:this.creditCardField})});t.gridOptions={showGridFooter:!1,showColumnFooter:!1,data:t.report,enableFiltering:!1,enableScrollbars:!1,enableHorizontalScrollbar:0,enableVerticalScrollbar:0,enableColumnMenus:!1,enablePagination:!0,paginationPageSize:10,enablePaginationControls:!1,rowHeight:40,minRowsToShow:11,headerTemplate:'<div><div class="ui-grid-custom-header-row"><span class="custom-cell-1">&nbsp;<\/span><span class="custom-cell-2">UPDATED DATA<\/span><span class="custom-cell-3">DATA PRE-UPDATE<\/span><\/div><div role="rowgroup" class="ui-grid-header"> <!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas  ui-grid-custom-header-row"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-header-cell-contents ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid"ui-grid-header-cell col="col" render-index="$index"> <\/div>  <\/div>  <\/div>  <\/div>  <\/div>  <\/div>  <\/div>',columnDefs:[{field:"customerProfileIDField",displayName:"Customer Profile ID",width:"10%",cellClass:"ui-grid-align-left"},{field:"customerPaymentProfileIDField",displayName:"Payment Profile ID",width:"10%",cellClass:"ui-grid-align-left"},{field:"lastNameField",displayName:"Last Name",width:"12%",cellClass:"ui-grid-align-left"},{field:"firstNameField",displayName:"First Name",width:"12%",cellClass:"ui-grid-align-left"},{field:"auReasonCodeField",displayName:"Reason Code",width:"7%",cellClass:"ui-grid-align-center"},{field:"newCreditCardField.cardNumberField",displayName:"Payment Method",enableSorting:!1,width:"12%",cellClass:"ui-grid-align-right",headerCellClass:"ui-grid-header-align-right"},{field:"newCreditCardField.expirationDateField",displayName:"Expiration Date",enableSorting:!1,width:"8%",cellClass:"ui-grid-align-right",headerCellClass:"ui-grid-header-align-right",cellFilter:'date:"MM/yyyy"'},{field:"newCreditCardField.cardTypeField",displayName:"Card",enableSorting:!1,width:"5%",cellClass:"ui-grid-align-center",headerCellClass:"ui-grid-header-align-right"},{field:"getCardField().cardNumberField",displayName:"Payment Method",enableSorting:!1,width:"12%",cellClass:"ui-grid-align-right",headerCellClass:"ui-grid-header-align-right"},{field:"getCardField().expirationDateField",displayName:"Expiration Date",enableSorting:!1,width:"8%",cellClass:"ui-grid-align-right",headerCellClass:"ui-grid-header-align-right",cellFilter:'date:"MM/yyyy"'},{field:"getCardField().cardTypeField",displayName:"Card",enableSorting:!1,width:"5%",cellClass:"ui-grid-align-center",headerCellClass:"ui-grid-header-align-right"}],onRegisterApi:function(n){t.gridApi=n}};t.printWindow=function(){window.print()};t.merchantId=window.merchantId;t.accountUpdaterServiceId=n;t.downloadReport=function(i){var r="/activation/AccountUpdater/AuxRazorTemplate/AuReportsDetailed/ReportsDownloadPage?merchantId="+t.merchantId+"&serviceId="+n+"&fileFormat="+t.fileFormat+"&month="+t.month+"&year="+t.year;i.preventDefault();window.open(r,"_blank","width=600,height=400")}}],template:function(n){return n.templateurl?n.templateurl:'<div>    <div class="row">        <div class="col-md-12 subheader">           Account Updater Detail Report        <\/div>        <div class="ui-grid-download-print col-md-12">            <div>                <span style="float:right; margin:7px 0">                    <label style=" color:white;">Download Format: <\/label>                    <select name="singleSelect" ng-model="fileFormat">                        <option value="tab">Tab delimited<\/option>                        <option value="comma">Comma separated<\/option>                    <\/select>                    <a id="downloadReport"                       ng-href="/activation/widget/api/Au/Merchant/{{merchantId}}/Service/{{accountUpdaterServiceId}}/Reports/Download?Delimiter={{fileFormat}}&Month={{month}}&Year={{year}}"                       hidden>ReportsDownload<\/a>                    <button ng-click="downloadReport($event);">Download To File<\/button>                    <button id="printWindow" ng-click="printWindow();">Print<\/button>                <\/span>            <\/div>        <\/div>        <div class="ui-grid-search-results col-md-12" id="ui-grid-search-results">            <div style="display:flex; padding: 7px 0">                <div class="col-md-9">                    {{ ((gridApi.pagination.getPage()-1)*10)+1}} -                    {{ ((gridApi.pagination.getPage()-1)*10)+10 > totalResults? totalResults :((gridApi.pagination.getPage()-1)*10)+10 }}                    of {{totalResults}} results                 <\/div>                <div class="col-md-3">                    <div style="float:right">                        <span ng-click="gridApi.pagination.previousPage()" style="text-decoration:underline; cursor:pointer;">  Prev  <\/span>  |                        <span ng-click="gridApi.pagination.nextPage()" style="text-decoration:underline;  cursor:pointer;">  Next  <\/span>                    <\/div>                <\/div>           <\/div>        <\/div>        <div ui-grid="gridOptions" id = "detailReportTable" class="report-table col-md-12" ui-grid-pagination><\/div>        &nbsp;        <div class="ui-grid-search-results col-md-12" style="margin-top:-15px;">            <div style="display:flex; padding: 7px 0">            <div class="col-md-9">                {{ ((gridApi.pagination.getPage()-1)*10)+1}} -                {{ ((gridApi.pagination.getPage()-1)*10)+10 > totalResults? totalResults :((gridApi.pagination.getPage()-1)*10)+10 }}                of {{totalResults}} results                <!--@*Current page: {{ gridApi.pagination.getPage() }} of {{ gridApi.pagination.getTotalPages() }}*@-->            <\/div>            <div class="col-md-3">                <div style="float:right">                    <span ng-click="gridApi.pagination.previousPage()" style="text-decoration:underline; cursor:pointer;">  Prev  <\/span>  |                    <span ng-click="gridApi.pagination.nextPage()" style="text-decoration:underline;  cursor:pointer;">  Next  <\/span>                <\/div>            <\/div>            <\/div>        <\/div>    <\/div><\/div>'}}}]),auReportsPage=angular.module("auReportsPage",["auReports","viewSrv"]);auReportsPage.directive("vsAuReportsPage",["viewService",function(n){return{restrict:"E",scope:{},controller:["$scope",function(){}],templateUrl:function(t){return t.templateurl?t.templateurl:n.getAuWidgetRazorTemplateUrl("AuReportsPage")}}}]);auReportsPage.factory("spinnerInterceptor",["$q","$rootScope",function(n){return{request:function(t){return document.getElementById("spinner")!=undefined&&document.getElementById("showoverlay")!=undefined&&(document.getElementById("spinner").style.display="block",document.getElementById("showoverlay").style.display="block",document.getElementById("showoverlay").setAttribute("css","z-index:1500")),t||n.when(t)},requestError:function(t){return document.getElementById("spinner")!=undefined&&document.getElementById("showoverlay")!=undefined&&(document.getElementById("spinner").style.display="block",document.getElementById("showoverlay").style.display="none"),n.reject(t)},response:function(t){return document.getElementById("spinner")!=undefined&&document.getElementById("showoverlay")!=undefined&&(document.getElementById("spinner").style.display="none",document.getElementById("showoverlay").style.display="none"),t||n.when(t)},responseError:function(t){return document.getElementById("spinner")!=undefined&&document.getElementById("showoverlay")!=undefined&&(document.getElementById("spinner").style.display="none",document.getElementById("showoverlay").style.display="none"),n.reject(t)}}}]);var auInformation=angular.module("auInformation",[]),vsAuInformation=auInformation.directive("vsAuInformation",[function(){return{replace:!0,restrict:"E",scope:{showfee:"@?",skipagreement:"@?",auprice:"@?"},controller:["$scope",function(){}],template:function(n){return n.templateurl?n.templateurl:'<div style="margin:-9px 73px -10px;">    <div class="row">        <div class="col-md-7">            <div class="au-info-heading">                Account Updater            <\/div>            <div class="au-info-content">                Account Updater automatically checks for changes to card information stored with your recurring                subscriptions and customer profiles, and updates the card information if available from the card issuer.                Using Account Updater can help you avoid declines due to out-of-date card numbers or expiration dates.            <\/div>            <div class="au-info-content"><br/>                Note:            <\/div>            <div class="au-info-content">                <ul id = "au-info-list">                   <li><div class="au-bullet">&nbsp;<\/div><div class="au-bullet-content">Account Updater depends on the card issuer to provide up-to-date card information. Updates occur on a monthly basis.<\/div><\/li>                   <li><div class="au-bullet">&nbsp;<\/div><div class="au-bullet-content">Card updates begin in the current month if sign-up occurs before the 3rd of the month. If after the 3rd, updates begin the following month.<\/div><\/li>                   <li><div class="au-bullet">&nbsp;<\/div><div class="au-bullet-content">On average, a larger proportion of your total cards will update during the first month you sign up.<\/div><\/li>                   <li><div class="au-bullet">&nbsp;<\/div><div class="au-bullet-content">A report of updated cards will be available on the Reports Page by the first day of the following month.<\/div><\/li>                   <li><div class="au-bullet">&nbsp;<\/div><div class="au-bullet-content">Recurring Billing Subscriptions will be suspended for card account responses with "Account Closed" or "Contact Card Holder".<\/div><\/li>                <\/ul>                <div ng-show="skipagreement == 0"> For more information, read the <a href="https://support.authorize.net/knowledgebase/Knowledgearticle/?code=000001022" target="_blank" rel="noopener noreferrer">Account Updater FAQs<\/a><\/div>            <\/div>            <div class="au-info-fee" ng-if="showfee===\'yes\'">                Additional Service Fee: <span id="auprice"> ${{auprice}} <\/span> per card updated.            <\/div>        <\/div>        <div class="col-md-5 cols-4">            <div style="width:286px; float:right;">                <img height="286" style="position:absolute" src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/Large_Circle.png" />                <img height="286" style="position:absolute" src="../../../../activation/Areas/AccountUpdater/Client/imgs/AccountUpdater/Large_Icon.png" />            <\/div>        <\/div>    <\/div><\/div>'}}}]),auPricing=angular.module("auPricing",[]),vsAuPricingTable=auPricing.directive("vsAuPricingTable",["auService",function(){return{restrict:"E",replace:!0,scope:{bundletype:"@?",pricingdata:"@?"},controller:["$scope",function(n){var i,t;for(n.pricingData=JSON.parse(n.pricingdata),i=0;i<n.pricingData.Fees.length;i++)t=n.pricingData.Fees[i],t.FeeId==3&&(n.auDescription=t.ServiceFeeDescription,n.auFee=t.ServiceSellRate.toFixed(2)),t.FeeId==0&&(n.cimDescription=t.ServiceFeeDescription,n.cimFee=t.ServiceSellRate.toFixed(2)),t.FeeId==1&&(n.arbSetupDescription=t.ServiceFeeDescription,n.arbSetupFee=t.ServiceSellRate.toFixed(2)),t.FeeId==2&&(n.arbMonthlyDescription=t.ServiceFeeDescription,n.arbMonthlyFee=t.ServiceSellRate.toFixed(2))}],template:function(n){return n.templateurl?n.templateurl:'<div>    <div class="row">        <div class="col-md-6 pricing-table-first" ng-show="bundletype==\'AU_CIM\'">            <div class="col-md-10 pricing-table-content">                {{cimDescription}}:            <\/div>            <div class="col-md-2 pricing-table-content" id="cimFee">                $  {{cimFee}}             <\/div>        <\/div>        <div class="col-md-6 pricing-table-first" ng-show="bundletype==\'AU_ARB\'">            <div class="col-md-10 pricing-table-content">                {{arbSetupDescription}}:            <\/div>            <div class="col-md-2 pricing-table-content" id="arbSetupFee">                $  {{arbSetupFee}}            <\/div>        <\/div>        <div class="col-md-6 pricing-table-first" ng-show="bundletype==\'AU\'">            <div class="col-md-10 pricing-table-content">                {{auDescription}}:            <\/div>            <div class="col-md-2 pricing-table-content" id="auFee">                $  {{auFee}}            <\/div>        <\/div>        <div class="col-md-6 pricing-table-first">            <div ng-show="bundletype==\'AU_ARB\' || bundletype==\'AU_CIM\'">                <div class="col-md-10 pricing-table-content">                    {{auDescription}}:                <\/div>                <div class="col-md-2 pricing-table-content" id="auBundleFee">                    $  {{auFee}}                <\/div>            <\/div>        <\/div>    <\/div>    <div class="row" ng-if="bundletype==\'AU_ARB\'" style="margin-top:-10px;">        <div class="col-md-6">            <div>                <div class=" col-md-10 pricing-table-content">                    {{arbMonthlyDescription}}:                <\/div>                <div class="col-md-2 pricing-table-content" id="arbMonthlyFee">                    $  {{arbMonthlyFee}}                <\/div>            <\/div>        <\/div>    <\/div><\/div>  '}}}])